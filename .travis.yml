dist: xenial
language: python
sudo: false
cache:
  - pip
python:
 - "2.7"
 - "3.6"
 - "3.7"
 - "3.8"
addons:
  postgresql: "10"
env:
 - DJANGO_VERSION=1.11.*
 - DJANGO_VERSION=2.2.*
 - DJANGO_VERSION=3.1.*
matrix:
  exclude:
  - python: "2.7"
    env: DJANGO_VERSION=2.2.*
  - python: "2.7"
    env: DJANGO_VERSION=3.1.*
  - python: "3.7"
    env: DJANGO_VERSION=1.11.*
  - python: "3.7"
    env: DJANGO_VERSION=1.11.*
  - python: "3.8"
    env: DJANGO_VERSION=1.11.*
  - python: "3.8"
    env: DJANGO_VERSION=1.11.*
install:
 - pip install flake8 coverage coveralls
 - pip install psycopg2>=2.8.1
 - pip install -q Django==$DJANGO_VERSION
script:
 - make test
after_success:
 - coveralls
